---
import flowers from "../assets/rapunzel_cliparts/flower_arangement.webp";
import max from "../assets/rapunzel_cliparts/maximus.webp";
import lanters from "../assets/rapunzel_cliparts/lanterns.webp";
import pascal from "../assets/rapunzel_cliparts/pascal2.webp";
---

<section class="section relative bg-center bg-cover">
  <div>
    <p class="cursive text-4xl font-black text-center mt-14 text-primary">
      Faltan...
    </p>
    <div class="flex flex-col items-center my-5">
      <p id="days" class="text-8xl cursive text-secondary">0</p>
      <p class="cursive text-3xl text-primary font-extrabold">DÃ­as</p>
      <p id="hours" class="text-8xl cursive text-secondary">0</p>
      <p class="cursive text-3xl text-primary font-extrabold">Horas</p>
    </div>
    <div class="flex justify-center">
      <a
        target="_blank"
        href="https://calendar.app.google/95FKNS19n4Hvfch26"
        class="group transition-transform ease-in-out duration-200"
      >
        <img
          src={pascal.src}
          alt="Rapunzel"
          class="h-40 mx-auto drop-shadow-[0_12px_14px_rgba(218,73,141,0.8)] transition-all ease-in-out duration-200 group-hover:scale-105 animate__animated animate__fadeIn"
          loading="lazy"
        />
        <span class="cursive text-primary text-3xl font-black"
          >Agregar al Calendario</span
        >
      </a>
    </div>
  </div>

  <img
    src={lanters.src}
    alt="Linternas"
    class="absolute top-32 right-0 -z-10 h-28 animate__animated animate__fadeIn"
    loading="lazy"
  />
  <img
    src={flowers.src}
    alt="Flores"
    class="absolute bottom-0 -left-24 -z-10 h-[calc(100lvh-150px)] opacity-50 -scale-[1]"
    loading="lazy"
  />
</section>
<script>
  import { diffDays, diffHours } from "@formkit/tempo";
  import { animateNumbers } from "../helpers/animations"

  
  const diffsDays = diffDays(new Date("2025-02-15 16:00"), new Date());
  const diffHour = diffHours(new Date("2025-02-15 16:00"), new Date());
  const hourRemaining = diffHour % diffsDays;
  const $days = document.getElementById("days");
  const $hours = document.getElementById("hours");

  if ($days) {
    $days.textContent = `${diffsDays}`;
  }

  if ($hours) {
    $hours.textContent = `${hourRemaining}`;
  }

  animateNumbers(0, diffsDays, $days);
  animateNumbers(0, hourRemaining, $hours);

</script>
